<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="刘小平">
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Changes to DOM - NW.js 最新版中文文档</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Changes to DOM";
    var mkdocs_page_input_path = "References\\Changes to DOM.md";
    var mkdocs_page_url = "/References/Changes to DOM/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> NW.js 最新版中文文档</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../..">首页</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">用户手册</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../For Users/Getting Started/">快速开始</a>
                </li>
                <li class="">
                    
    <a class="" href="../../For Users/Debugging with DevTools/">使用DevTools调试</a>
                </li>
                <li class="">
                    
    <a class="" href="../../For Users/Package and Distribute/">打包与发布</a>
                </li>
                <li class="">
                    
    <a class="" href="../../For Users/FAQ/">FAQ</a>
                </li>
                <li class="">
                    
    <span class="caption-text">合并版本</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../For Users/Migration/From 0.12 to 0.13/">0.12升级0.13</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">进阶</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../For Users/Advanced/Build Flavors/">编译特性</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../For Users/Advanced/Content Verification/">内容验证</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../For Users/Advanced/Customize Menubar/">Customize Menubar</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../For Users/Advanced/JavaScript Contexts in NW.js/">JavaScript Contexts in NW.js</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../For Users/Advanced/Protect JavaScript Source Code/">Protect JavaScript Source Code</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../For Users/Advanced/Security in NW.js/">Security in NW.js</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../For Users/Advanced/Support for Mac App Store/">Support for Mac App Store</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../For Users/Advanced/Test with ChromeDriver/">Test with ChromeDriver</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../For Users/Advanced/Transparent Window/">Transparent Window</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../For Users/Advanced/Use Flash Plugin/">Use Flash Plugin</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../For Users/Advanced/Use NaCl in NW.js/">Use NaCl in NW.js</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../For Users/Advanced/Use Native Node Modules/">Use Native Node Modules</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../For Users/Advanced/Autoupdates/">Autoupdates</a>
                </li>
    </ul>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">参考资料</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../App/">App</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">Changes to DOM</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#changes-to-dom-doctitle">Changes to DOM {: .doctitle}</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#input-typefile">&lt;input type="file"&gt;</a></li>
        
            <li><a class="toctree-l4" href="#iframe">&lt;iframe&gt;</a></li>
        
            <li><a class="toctree-l4" href="#webview-tag">webview tag</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../Changes to Node/">Changes to Node</a>
                </li>
                <li class="">
                    
    <a class="" href="../Clipboard/">Clipboard</a>
                </li>
                <li class="">
                    
    <a class="" href="../Command Line Options/">Command Line Options</a>
                </li>
                <li class="">
                    
    <a class="" href="../Chrome Extension APIs/">Chrome Extension APIs</a>
                </li>
                <li class="">
                    
    <a class="" href="../Manifest Format/">Manifest Format</a>
                </li>
                <li class="">
                    
    <a class="" href="../Menu/">Menu</a>
                </li>
                <li class="">
                    
    <a class="" href="../MenuItem/">MenuItem</a>
                </li>
                <li class="">
                    
    <a class="" href="../Screen/">Screen</a>
                </li>
                <li class="">
                    
    <a class="" href="../Shell/">Shell</a>
                </li>
                <li class="">
                    
    <a class="" href="../Shortcut/">Shortcut</a>
                </li>
                <li class="">
                    
    <a class="" href="../Tray/">Tray</a>
                </li>
                <li class="">
                    
    <a class="" href="../webview Tag/">webview Tag</a>
                </li>
                <li class="">
                    
    <a class="" href="../Window/">Window</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">开发者手册</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../For Developers/Building NW.js/">Building NW.js</a>
                </li>
                <li class="">
                    
    <a class="" href="../../For Developers/Contributing to NW.js/">Contributing to NW.js</a>
                </li>
                <li class="">
                    
    <a class="" href="../../For Developers/Enable Proprietary Codecs/">Enable Proprietary Codecs</a>
                </li>
                <li class="">
                    
    <a class="" href="../../For Developers/Repositories/">Repositories</a>
                </li>
                <li class="">
                    
    <a class="" href="../../For Developers/Understanding Crash Dump/">Understanding Crash Dump</a>
                </li>
                <li class="">
                    
    <a class="" href="../../For Developers/Writing Documents for NW.js/">Writing Documents for NW.js</a>
                </li>
                <li class="">
                    
    <a class="" href="../../For Developers/Writing Test Cases for NW.js/">Writing Test Cases for NW.js</a>
                </li>
                <li class="">
                    
    <a class="" href="../../For Developers/Contributors of Documents/">Contributors of Documents</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">NW.js 最新版中文文档</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>参考资料 &raquo;</li>
        
      
    
    <li>Changes to DOM</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/lxp135/NW.jsCnDocs/edit/master/docs/References/Changes to DOM.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="changes-to-dom-doctitle">Changes to DOM {: .doctitle}</h1>
<hr />
<div class="toc">
<ul>
<li><a href="#changes-to-dom-doctitle">Changes to DOM {: .doctitle}</a><ul>
<li><a href="#input-typefile">&lt;input type=&rdquo;file&rdquo;&gt;</a><ul>
<li><a href="#fileinputvalue">fileinput.value</a></li>
<li><a href="#fileitempath">fileitem.path</a></li>
<li><a href="#attribute-nwdirectory">Attribute: nwdirectory</a></li>
<li><a href="#attribute-nwdirectorydesc">Attribute: nwdirectorydesc</a></li>
<li><a href="#attribute-nwsaveas">Attribute: nwsaveas</a></li>
<li><a href="#attribute-nwworkingdir">Attribute: nwworkingdir</a></li>
<li><a href="#oncancel-event">oncancel event</a></li>
</ul>
</li>
<li><a href="#iframe">&lt;iframe&gt;</a><ul>
<li><a href="#attribute-nwdisable">Attribute: nwdisable</a></li>
<li><a href="#attribute-nwfaketop">Attribute: nwfaketop</a></li>
<li><a href="#attribute-nwuseragent">Attribute: nwUserAgent</a></li>
</ul>
</li>
<li><a href="#webview-tag">webview tag</a></li>
</ul>
</li>
</ul>
</div>
<h2 id="input-typefile">&lt;input type=&rdquo;file&rdquo;&gt;</h2>
<p>HTML5 does provided limited support for file dialogs with <code>&lt;input type="file" /&gt;</code> element, such as <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-multiple"><code>multiple</code></a>, <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-accept"><code>accept</code></a> and <code>webkitdirectory</code>. NW.js extended the file input to better support native apps.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>NW.js extended features are only enabled in Node frames for security reasons. See <a href="../../For Users/Advanced/Security in NW.js/">Security in NW.js</a> for the differences of Node and normal frame.</p>
</div>
<h3 id="fileinputvalue">fileinput.value</h3>
<p>The property contains native path of the local file.</p>
<p>For example, you can read the file selected by user with Node.js API:</p>
<pre class="codehilite"><code class="language-javascript">// Get the native path of the file selected by user
var fileinput = document.querySelector('input[type=file]');
var path = fileinput.value;

// Read file with Node.js API
var fs = nw.require('fs');
fs.readFile(path, 'utf8', function(err, txt) {
  if (err) {
    console.error(err);
    return;
  }

  console.log(txt);
});</code></pre>


<h3 id="fileitempath">fileitem.path</h3>
<p>HTML5 provides a <code>files</code> attribute to return all files selected in a <code>&lt;input&gt;</code> tag. NW.js provided an extra property <code>fileitem.path</code> to each file item in <code>files</code>, which is the native path of the selected file.</p>
<pre class="codehilite"><code class="language-javascript">var fileinput = document.querySelector('input[type=file]');
var files = fileinput.files;

for (var i = 0; i &lt; files.length; ++i) {
  console.log(files[i].path);
}</code></pre>


<h3 id="attribute-nwdirectory">Attribute: <code>nwdirectory</code></h3>
<p><code>nwdirectory</code> is a bit similar to <code>webkitdirectory</code>, but it returns the path of directory instead of returning files in it.</p>
<p>For example:</p>
<pre class="codehilite"><code class="language-html">&lt;input type=&quot;file&quot; nwdirectory&gt;</code></pre>


<h3 id="attribute-nwdirectorydesc">Attribute: <code>nwdirectorydesc</code></h3>
<p>Set the description of the title in the file dialog for <code>nwdirectory</code>. Default is <code>Select Folder</code>.</p>
<h3 id="attribute-nwsaveas">Attribute: <code>nwsaveas</code></h3>
<p><code>nwsaveas</code> will open a &lsquo;Save as&rsquo; dialog, which lets user enter the path of a file. It&rsquo;s possible to select a non-existing file, which is different from the default file input tag.</p>
<p>For example:</p>
<pre class="codehilite"><code class="language-html">&lt;input type=&quot;file&quot; nwsaveas&gt;</code></pre>


<p>And you can specify a value for the default file name to save:</p>
<pre class="codehilite"><code class="language-html">&lt;input type=&quot;file&quot; nwsaveas=&quot;filename.txt&quot;&gt;</code></pre>


<h3 id="attribute-nwworkingdir">Attribute: <code>nwworkingdir</code></h3>
<p>With <code>nwworkingdir</code>, the file dialog starts in the given directory when the element is activated.</p>
<p>For example, following code enables the file dialog opening in <code>/home/path/</code> by default:</p>
<pre class="codehilite"><code class="language-html">&lt;input type=&quot;file&quot; nwworkingdir=&quot;/home/path/&quot;&gt;</code></pre>


<h3 id="oncancel-event"><code>oncancel</code> event</h3>
<p>This event is fired after user cancels the file dialog.</p>
<h2 id="iframe">&lt;iframe&gt;</h2>
<p>NW.js extended <code>&lt;iframe&gt;</code> tag for easier developing native apps. Thoses features enables apps to bypass the restrictions of Sandbox and Same Origin Policy etc.</p>
<p>See also <a href="../webview Tag/">webview Tag</a> for the new <code>&lt;webview&gt;</code> tag.</p>
<h3 id="attribute-nwdisable">Attribute: nwdisable</h3>
<p>Make the frame and subframes normal frames.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This attribute doesn&rsquo;t prevent the page in normal frames accessing its parent and top frames. Then they can still get access to Node.js APIs. So usually you may want to use this attribute with <code>nwfaketop</code> togather.</p>
</div>
<h3 id="attribute-nwfaketop">Attribute: nwfaketop</h3>
<p>Prevent web page in the frame accessing the real <code>window.parent</code> or <code>window.top</code>. They will get the faked parent and top, which is its own <code>window</code> object of the frame. Subframes will also be affected.</p>
<p>This attribute is usually used with <code>nwdisable</code>.</p>
<h3 id="attribute-nwuseragent">Attribute: nwUserAgent</h3>
<p>Override the default user-agent when loading the web page in the frame and sub frames. See <a href="../Manifest Format/#user-agent"><code>user-agent</code> in manifest</a> for details.</p>
<h2 id="webview-tag">webview tag</h2>
<p>added some methods to <a href="../webview Tag/">webview tag</a></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../Changes to Node/" class="btn btn-neutral float-right" title="Changes to Node">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../App/" class="btn btn-neutral" title="App"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>NW.js中文文档由<a href="https://liuxp.me">刘小平</a>提供，项目托管在<a href="https://github.com/lxp135/NW.jsCnDocs">GitHub</a>，欢迎您参与翻译。<script language="javascript" type="text/javascript" src="https://js.users.51.la/18564708.js"></script></p>
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/lxp135/NW.jsCnDocs/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../App/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../Changes to Node/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>

</body>
</html>
