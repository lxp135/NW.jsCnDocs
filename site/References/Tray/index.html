<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="刘小平">
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Tray - NW.js 最新版中文文档</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Tray";
    var mkdocs_page_input_path = "References\\Tray.md";
    var mkdocs_page_url = "/References/Tray/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> NW.js 最新版中文文档</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../..">首页</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">用户手册</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../For Users/Getting Started/">快速开始</a>
                </li>
                <li class="">
                    
    <a class="" href="../../For Users/Debugging with DevTools/">使用DevTools调试</a>
                </li>
                <li class="">
                    
    <a class="" href="../../For Users/Package and Distribute/">打包与发布</a>
                </li>
                <li class="">
                    
    <a class="" href="../../For Users/FAQ/">FAQ</a>
                </li>
                <li class="">
                    
    <span class="caption-text">合并版本</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../For Users/Migration/From 0.12 to 0.13/">0.12升级0.13</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">进阶</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../For Users/Advanced/Build Flavors/">编译特性</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../For Users/Advanced/Content Verification/">内容验证</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../For Users/Advanced/Customize Menubar/">Customize Menubar</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../For Users/Advanced/JavaScript Contexts in NW.js/">JavaScript Contexts in NW.js</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../For Users/Advanced/Protect JavaScript Source Code/">Protect JavaScript Source Code</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../For Users/Advanced/Security in NW.js/">Security in NW.js</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../For Users/Advanced/Support for Mac App Store/">Support for Mac App Store</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../For Users/Advanced/Test with ChromeDriver/">Test with ChromeDriver</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../For Users/Advanced/Transparent Window/">Transparent Window</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../For Users/Advanced/Use Flash Plugin/">Use Flash Plugin</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../For Users/Advanced/Use NaCl in NW.js/">Use NaCl in NW.js</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../For Users/Advanced/Use Native Node Modules/">Use Native Node Modules</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../For Users/Advanced/Autoupdates/">Autoupdates</a>
                </li>
    </ul>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">参考资料</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../App/">App</a>
                </li>
                <li class="">
                    
    <a class="" href="../Changes to DOM/">Changes to DOM</a>
                </li>
                <li class="">
                    
    <a class="" href="../Changes to Node/">Changes to Node</a>
                </li>
                <li class="">
                    
    <a class="" href="../Clipboard/">Clipboard</a>
                </li>
                <li class="">
                    
    <a class="" href="../Command Line Options/">Command Line Options</a>
                </li>
                <li class="">
                    
    <a class="" href="../Chrome Extension APIs/">Chrome Extension APIs</a>
                </li>
                <li class="">
                    
    <a class="" href="../Manifest Format/">Manifest Format</a>
                </li>
                <li class="">
                    
    <a class="" href="../Menu/">Menu</a>
                </li>
                <li class="">
                    
    <a class="" href="../MenuItem/">MenuItem</a>
                </li>
                <li class="">
                    
    <a class="" href="../Screen/">Screen</a>
                </li>
                <li class="">
                    
    <a class="" href="../Shell/">Shell</a>
                </li>
                <li class="">
                    
    <a class="" href="../Shortcut/">Shortcut</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">Tray</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#tray-doctitle">Tray {: doctitle}</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#synopsis">Synopsis</a></li>
        
            <li><a class="toctree-l4" href="#new-trayoption">new Tray(option)</a></li>
        
            <li><a class="toctree-l4" href="#traytitle">tray.title</a></li>
        
            <li><a class="toctree-l4" href="#traytooltip">tray.tooltip</a></li>
        
            <li><a class="toctree-l4" href="#trayicon">tray.icon</a></li>
        
            <li><a class="toctree-l4" href="#trayalticon-mac">tray.alticon (Mac)</a></li>
        
            <li><a class="toctree-l4" href="#trayiconsaretemplates-mac">tray.iconsAreTemplates (Mac)</a></li>
        
            <li><a class="toctree-l4" href="#traymenu">tray.menu</a></li>
        
            <li><a class="toctree-l4" href="#trayremove">tray.remove()</a></li>
        
            <li><a class="toctree-l4" href="#event-click">Event: click</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../webview Tag/">webview Tag</a>
                </li>
                <li class="">
                    
    <a class="" href="../Window/">Window</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">开发者手册</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../For Developers/Building NW.js/">Building NW.js</a>
                </li>
                <li class="">
                    
    <a class="" href="../../For Developers/Contributing to NW.js/">Contributing to NW.js</a>
                </li>
                <li class="">
                    
    <a class="" href="../../For Developers/Enable Proprietary Codecs/">Enable Proprietary Codecs</a>
                </li>
                <li class="">
                    
    <a class="" href="../../For Developers/Repositories/">Repositories</a>
                </li>
                <li class="">
                    
    <a class="" href="../../For Developers/Understanding Crash Dump/">Understanding Crash Dump</a>
                </li>
                <li class="">
                    
    <a class="" href="../../For Developers/Writing Documents for NW.js/">Writing Documents for NW.js</a>
                </li>
                <li class="">
                    
    <a class="" href="../../For Developers/Writing Test Cases for NW.js/">Writing Test Cases for NW.js</a>
                </li>
                <li class="">
                    
    <a class="" href="../../For Developers/Contributors of Documents/">Contributors of Documents</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">NW.js 最新版中文文档</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>参考资料 &raquo;</li>
        
      
    
    <li>Tray</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/lxp135/NW.jsCnDocs/edit/master/docs/References/Tray.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="tray-doctitle">Tray {: doctitle}</h1>
<hr />
<div class="toc">
<ul>
<li><a href="#tray-doctitle">Tray {: doctitle}</a><ul>
<li><a href="#synopsis">Synopsis</a></li>
<li><a href="#new-trayoption">new Tray(option)</a></li>
<li><a href="#traytitle">tray.title</a></li>
<li><a href="#traytooltip">tray.tooltip</a></li>
<li><a href="#trayicon">tray.icon</a></li>
<li><a href="#trayalticon-mac">tray.alticon (Mac)</a></li>
<li><a href="#trayiconsaretemplates-mac">tray.iconsAreTemplates (Mac)</a></li>
<li><a href="#traymenu">tray.menu</a></li>
<li><a href="#trayremove">tray.remove()</a></li>
<li><a href="#event-click">Event: click</a></li>
</ul>
</li>
</ul>
</div>
<p><code>Tray</code> is an abstraction of different controls on different platforms, usually it&rsquo;s a small icon shown on the OS&rsquo;s notification area. On Mac OS X it&rsquo;s called <code>Status Item</code>, on GTK it&rsquo;s <code>Status Icon</code>, and on Windows it&rsquo;s <code>System Tray Icon</code>.</p>
<h2 id="synopsis">Synopsis</h2>
<pre class="codehilite"><code class="language-javascript">// Create a tray icon
var tray = new nw.Tray({ title: 'Tray', icon: 'img/icon.png' });

// Give it a menu
var menu = new nw.Menu();
menu.append(new nw.MenuItem({ type: 'checkbox', label: 'box1' }));
tray.menu = menu;

// Remove the tray
tray.remove();
tray = null;</code></pre>


<div class="admonition warning">
<p class="admonition-title">Using Tray With Page Navigation</p>
<p>Trays created in the page that can be navigated will not be functional after a reload or navigation. The reason is that the tray and even the web page will be garbage collected by JS engine after navigation to prevent memory leak. So it&rsquo;s recommended to use trays in <strong>background page</strong>, which is existed for the life cycle of your app. See <a href="../Manifest Format/#bg-script"><code>bg-script</code></a> and <a href="../Manifest Format/#main"><code>main</code></a> for how to execute scripts in the background page.</p>
</div>
<h2 id="new-trayoption">new Tray(option)</h2>
<ul>
<li><code>option</code> <code>{Object}</code><ul>
<li><code>title</code> <code>{String}</code> title</li>
<li><code>tooltip</code> <code>{String}</code> tooltip</li>
<li><code>icon</code> <code>{String}</code> icon</li>
<li><code>alticon</code> <code>{String}</code> alternate</li>
<li><code>iconsAreTemplates</code> <code>{Boolean}</code> whether icons are templates</li>
<li><code>menu</code> <code>{Menu}</code> popup menu</li>
</ul>
</li>
</ul>
<p>Create a new <code>Tray</code>, <code>option</code> is an object contains initial settings for the <code>Tray</code>. Every field has its own property in the <code>Tray</code>, see documentation of each property for details.</p>
<h2 id="traytitle">tray.title</h2>
<p>Get or set the <code>title</code> of the tray.</p>
<p>On Mac OS X <code>title</code> will be showed on status bar along with its <code>icon</code>, but it doesn&rsquo;t have effects on GTK and Windows, since the latter two platforms only support tray to be showed as icons.</p>
<h2 id="traytooltip">tray.tooltip</h2>
<p>Get or set the <code>tooltip</code> of the tray. <code>tooltip</code> shows when you hover the <code>Tray</code> with mouse.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code>tooltip</code> is showed on all three platforms. Should be set as <code>Tray</code> property rather from <code>option</code> object constructor.</p>
</div>
<h2 id="trayicon">tray.icon</h2>
<p>Get or set the <code>icon</code> of the tray, <code>icon</code> must a path to your icon file. It can be a relative path which points to an icon in your app, or an absolute path pointing to a file in user&rsquo;s system.</p>
<div class="admonition note">
<p class="admonition-title">Mac</p>
<p>Mac OS X caveat: when used in notification context, png icon is not sized down like in windows notification area, it is rather displayed in 1:1 ratio.</p>
</div>
<h2 id="trayalticon-mac">tray.alticon (Mac)</h2>
<p>Get or set the alternate (active) tray icon.</p>
<h2 id="trayiconsaretemplates-mac">tray.iconsAreTemplates (Mac)</h2>
<p>Get or set whether <code>icon</code> and <code>alticon</code> images are treated as &ldquo;templates&rdquo; (<code>true</code> by default). When the property is set to <code>true</code> the images are treated as &ldquo;templates&rdquo; and the system automatically ensures proper styling according to the various states of the status item (e.g. dark menu, light menu, etc.). Template images should consist only of black and clear colours and can use the alpha channel in the image to adjust the opacity of black content.</p>
<h2 id="traymenu">tray.menu</h2>
<p>Get or set the <code>menu</code> of the tray, <code>menu</code> will be showed when you click on the tray icon.</p>
<p>On Mac OS X the menu will be showed when you click on the tray (which is the only action available for tray icons on Mac OS X). On Windows and Linux, the menu will be showed when you single click on the tray with right mouse button, clicking with left mouse button sends the <code>click</code> event and does not show a menu.</p>
<p>In order to reduce differences from different platforms, setting <code>menu</code> property is the only way to bind a menu to tray, there&rsquo;s no way to popup a menu with left mouse button click on Linux and Windows.</p>
<h2 id="trayremove">tray.remove()</h2>
<p>Remove the tray.</p>
<p>Once removed, you will not be able to show it again and you should set your tray variable to <code>null</code> to make it garbage collected. There is no way temporarily hide a tray icon.</p>
<h2 id="event-click">Event: click</h2>
<p>Emitted when user clicks the menu item with left mouse button.</p>
<p>You cannot catch click with right mouse button, because it is used to show menu. Even if you&rsquo;re not binding a menu to a tray, you still can not listen to it. Double click events are also ignored.</p>
<div class="admonition note">
<p class="admonition-title">Mac</p>
<p>NW.js does not support menulet (<kbd>&#8984;</kbd>+drag) since it will prohibit NW.js apps from being distributed in the App Store.</p>
</div>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../webview Tag/" class="btn btn-neutral float-right" title="webview Tag">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../Shortcut/" class="btn btn-neutral" title="Shortcut"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>NW.js中文文档由<a href="https://liuxp.me">刘小平</a>提供，项目托管在<a href="https://github.com/lxp135/NW.jsCnDocs">GitHub</a>，欢迎您参与翻译。<script language="javascript" type="text/javascript" src="https://js.users.51.la/18564708.js"></script></p>
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/lxp135/NW.jsCnDocs/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../Shortcut/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../webview Tag/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>

</body>
</html>
